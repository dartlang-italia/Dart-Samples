// Auto-generated from imagegallery.html.
// DO NOT EDIT.

library imagegallery_html;

import 'dart:html' as autogenerated;
import 'dart:svg' as autogenerated_svg;
import 'package:web_ui/web_ui.dart' as autogenerated;
import 'package:web_ui/observe/observable.dart' as __observe;
import 'dart:html';
import 'dart:async';


// Original code


List<String> images = [["1", "images/1.JPG", "custom text 1"],["2", "images/2.JPG", "custom text 2"],["3", "images/3.JPG", "custom text 3"], ["4", "images/4.JPG", "custom text 4"], ["5", "images/5.JPG", "custom text 5"], ["6", "images/6.JPG", "custom text 6"], ["7", "images/7.JPG", "custom text 7"],["8", "images/8.JPG", "custom text 8"],["9", "images/9.JPG", "custom text 9"]];

var cont;
var bg;
var zoomImg;

void main() {
  // resize zoom image su schermi + piccoli
}

void fadeIn(event){
  var id = "#"+event.target.id;
  var img = queryAll(id);
  img.classes.remove("faded");
  img.classes.add("fade-in");
  
}

void onOver(event){
 
  var idZoom = event.target.id[4];
  var zoom = query("#zoom_"+idZoom);
  zoom.classes.remove("fade-out");
  zoom.classes.add("fade-in");
  
}

void onOut(event){
  
  var idZoom = event.target.id[4];
  var zoom = query("#zoom_"+idZoom);
  zoom.classes.remove("fade-in");
  zoom.classes.add("fade-out");
  
}

void onClick(event){
  
  zoomImg = new ImageElement(src: 'images/${event.target.id[4]}.JPG');
  zoomImg.onLoad.listen(showBigImg);
  bg = new DivElement();
  bg.classes.add("black_overlay");
  cont = new DivElement();
  cont.children.add(zoomImg);
  cont.classes.add("bigImage");
  
  cont.onClick.listen(closePopUp);
  document.body.children.add(bg);
  document.body.children.add(cont);
  
}

void showBigImg(event){
  
  bg.style.opacity = ".7";
  bg.style.transition = "1s";
  cont.style.opacity = "1";
  cont.style.transition = "1s";

}

void closePopUp(event){
  cont.style.opacity = "0";
  cont.style.transition = "1s";
  bg.style.opacity = "0";
  bg.style.transition = "1s";
  new Timer(new Duration(seconds:1), () => removeZoomObjs());
}

void removeZoomObjs(){
  
  cont.remove();
  bg.remove();
  
}

List<String> get results {
  
  return images;
  
}

// Additional generated code
void init_autogenerated() {
  var __root = autogenerated.document.body;
  final __html0 = new autogenerated.Element.html('<div class="image">\n          <img class="faded" width="320" height="240">\n          <img src="images/zoom.png" class="zoom">\n          <h2><span></span></h2>\n         </div>');
  var __e5;
  var __t = new autogenerated.Template(__root);
  __e5 = __root.nodes[3].nodes[1];
  __t.loop(__e5, () => results, ($list, $index, __t) {
    var data = $list[$index];
    var __e0, __e1, __e3, __e4;
    __e4 = __html0.clone(true);
    __e0 = __e4.nodes[1];
    __t.listen(__e0.onClick, ($event) { onClick($event); });
    __t.listen(__e0.onLoad, ($event) { fadeIn($event); });
    __t.listen(__e0.onMouseOut, ($event) { onOut($event); });
    __t.listen(__e0.onMouseOver, ($event) { onOver($event); });
    __t.bind(() => data[0],  (__e) { __e0.id = 'img_${__e.newValue}'; }, false);
    __t.oneWayBind(() => data[1], (e) { if (__e0.src != e) __e0.src = e; }, false, true);
    __e1 = __e4.nodes[3];
    __t.bind(() => data[0],  (__e) { __e1.id = 'zoom_${__e.newValue}'; }, false);
    __e3 = __e4.nodes[5].nodes[0];
    var __binding2 = __t.contentBind(() => data[2], false);
    __e3.nodes.add(__binding2);
  __t.addAll([new autogenerated.Text('\n        '),
      __e4,
      new autogenerated.Text('\n      ')]);
  });
  __t.create();
  __t.insert();
}

//@ sourceMappingURL=imagegallery.dart.map